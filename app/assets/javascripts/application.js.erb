// This is a manifest file that'll be compiled into application.js, which will include all the files
// listed below.
//
// Any JavaScript/Coffee file within this directory, lib/assets/javascripts, vendor/assets/javascripts,
// or any plugin's vendor/assets/javascripts directory can be referenced here using a relative path.
//
// It's not advisable to add code directly here, but if you do, it'll appear at the bottom of the
// compiled file.
//
// Read Sprockets README (https://github.com/sstephenson/sprockets#sprockets-directives) for details
// about supported directives.
//
//= require jquery
//= require jquery_ujs
//= require turbolinks
//= require_tree .

$(document).ready(function (){
// function initialize() {

//   var mapOptions = {
//     zoom: 4,
//     center: new google.maps.LatLng(38.975907, -77.159020)
//   }
//   var map = new google.maps.Map(document.getElementById('map-canvas'),
//                                 mapOptions);

//   var image = "<%= asset_path 'Sun_Pin.png' %>";

//   var myLatLng = new google.maps.LatLng(38.975907, -77.159020);
//   var marker = new google.maps.Marker({
//       position: myLatLng,
//       map: map,
//       icon: image
//   });
// }

// google.maps.event.addDomListener(window, 'load', initialize);
// });

var cabinJohn = new google.maps.LatLng(38.975907, -77.159020);
var tomlinson = new google.maps.LatLng(38.977392, -77.158269);
var marker;
var map;
var image = "<%= asset_path 'Sun_Pin.png' %>";

function initialize() {
  var mapOptions = {
    zoom: 13,
    center: tomlinson,
    scrollwheel: false
  };

  map = new google.maps.Map(document.getElementById('map-canvas'),
          mapOptions);

  marker = new google.maps.Marker({
    map:map,
    draggable:true,
    animation: google.maps.Animation.DROP,
    position: cabinJohn,
    icon: image
  });
  google.maps.event.addListener(marker, 'click', toggleBounce);
}

function toggleBounce() {

  if (marker.getAnimation() != null) {
    marker.setAnimation(null);
  } else {
    marker.setAnimation(google.maps.Animation.BOUNCE);
  }
}

google.maps.event.addDomListener(window, 'load', initialize);
});